(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{184:function(s,a,t){"use strict";t.r(a);var e=t(0),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),t("p",[s._v("为了提供系统安全，需要配置centos公钥登陆，并且禁止使用密码和使用root用户登陆。")]),s._v(" "),t("h2",{attrs:{id:"配置证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置证书"}},[s._v("#")]),s._v(" 配置证书")]),s._v(" "),t("p",[s._v("通过终端登陆系统，输入命令")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ssh-keygen -trsa -b2048\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("其中")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("-t 指定证书类型，这是是rsa\n-b 指定证书长度，这里是2048\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("开始创建密钥")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img.array.fun/img/2019/12/25/noccixg8rywmbp1.webp",alt:"创建密钥"}})]),s._v(" "),t("ul",[t("li",[t("p",[s._v("第一步：输入证书路径，一般默认")])]),s._v(" "),t("li",[t("p",[s._v("第二步：输入证书密码，可以提高安全，一般默认为空")])]),s._v(" "),t("li",[t("p",[s._v("第三步：再此输入证书密码")])]),s._v(" "),t("li",[t("p",[s._v("第四步：输入证书指纹，这里输入空")])])]),s._v(" "),t("p",[s._v("这样证书就创建成功了")]),s._v(" "),t("p",[s._v("把公钥导入到"),t("code",[s._v("authorized_keys")]),s._v("文件中")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" ~/.ssh/id_rsa.pub "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ~/.ssh/authorized_keys\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("并且要设置"),t("code",[s._v("authorized_keys")]),s._v("权限为600")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v(" ~/.ssh/authorized_keys\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("把私钥下载到本地，导入终端软件中")]),s._v(" "),t("p",[s._v("打开xshell软件，点击工具选项卡，点击用户密钥管理者")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img.array.fun/img/2019/12/25/df81gocwsp96mtc.webp",alt:"打开软件"}})]),s._v(" "),t("p",[s._v("点击导入，打开刚下载的私钥文件")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img.array.fun/img/2019/12/25/rgbjnlqpxac34ca.webp",alt:"导入私钥"}})]),s._v(" "),t("p",[s._v("如果刚才创建的私钥工程中，有证书密码，会让输入证书密码")]),s._v(" "),t("p",[s._v("点击确定后，就成功导入私钥了")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img.array.fun/img/2019/12/25/1ol0fyew4f41lso.webp",alt:"导入成功"}})]),s._v(" "),t("h2",{attrs:{id:"配置禁止密码登陆"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置禁止密码登陆"}},[s._v("#")]),s._v(" 配置禁止密码登陆")]),s._v(" "),t("p",[s._v("用vim编辑"),t("code",[s._v("/etc/ssh/sshd_config")]),s._v("找到下面配置项")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("Port\nPermitRootLogin\nPasswordAuthentication\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("其中")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("是指定ssh端口，建议最好大于1024，小于65535")])]),s._v(" "),t("li",[t("p",[s._v("是禁止root用户远程登陆，设置为"),t("code",[s._v("false")])])]),s._v(" "),t("li",[t("p",[s._v("是禁止远程用户通过密码登陆，设置为"),t("code",[s._v("false")])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);