(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{187:function(s,a,e){"use strict";e.r(a);var t=e(0),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"influxdb介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#influxdb介绍"}},[s._v("#")]),s._v(" influxdb介绍")]),s._v(" "),e("p",[s._v("influxDB是一款专门处理高写入和查询负载的时序数据库，用于存储大规模的时序数据并进行实时分析，包括来自DevOps监控、应用指标和IoT传感器上的数据。")]),s._v(" "),e("h2",{attrs:{id:"使用docker搭建influxdb"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用docker搭建influxdb"}},[s._v("#")]),s._v(" 使用docker搭建influxdb")]),s._v(" "),e("ul",[e("li",[s._v("创建数据库目录")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /data/influxdb\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("创建配置文件")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("docker container run --rm influxdb influxd config "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" influxdb.conf\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("可以根据需要修改配置参数，本例暂不修改配置参数")])]),s._v(" "),e("ul",[e("li",[s._v("启动容器")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("docker container run --name influxdb -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8083")]),s._v(":8083 -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8086")]),s._v(":8086 -v /data/influxdb/:/var/lib/influxdb -v /etc/localtime:/etc/localtime -v "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v("/etc/influxdb.conf:/etc/influxdb/influxdb.conf:ro -d influxdb\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("其中")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("端口")]),s._v(" "),e("th",[s._v("描述")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[s._v("8083")]),s._v(" "),e("td",[s._v("集群端口")])]),s._v(" "),e("tr",[e("td",[s._v("8086")]),s._v(" "),e("td",[s._v("HTTP API端口")])])])]),s._v(" "),e("p",[s._v("这样influxdb数据库就启动成功了")]),s._v(" "),e("ul",[e("li",[s._v("进入容器，创建数据库")])]),s._v(" "),e("p",[s._v("进入容器")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("docker container "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it influxdb "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("连接客户端，创建数据库")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prometheus"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("这样就成功创建了数据库，下次对接prometheus。让prometheus把数据存到influxdb中。")])])}),[],!1,null,null,null);a.default=n.exports}}]);